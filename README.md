## クレジット

この定義の元ネタは[横ネスト段階配列表記](https://twitter.com/Konosirotan/status/1684790641791062016)です。

## 前文

- 1以上の自然数Nごとに、以下で巨大数表記を定義する。
- \mathbb{Z}\_{+}を正整数全体の集合とする。
- \mathbb{Z}\_{+0}を非負整数全体の集合とする。
- \mathbb{Z}\_{+0-}を-1以上の整数全体の集合とする。

## 定義

### 0と(と)と,と+のみからなる文字列の集合Sの定義
- 文字0はSに属する
- いかなるα,β∈S\\{0}に対しても、文字列"α+β"はSは属する
- いかなるα,β∈Sに対しても、文字列"(α,β)"はSに属する

### Sの部分集合Pの定義
- いかなるα,β∈Sに対しても、文字列"(α,β)"はPに属する

### Sの部分集合Dの定義
- 文字列”(0,0)”はDに属する
- いかなるα∈S\\{0}に対しても、文字列”α+(0,0)”はDに属する

### 写像d:D→S;α↦d(α)の定義
- α=(0,0)　と表せるならば、
  - d(α)=0
- α=β+(0,0)　(β∈S\\{0})　と表せるならば、
  - d(α)=β

### 写像t:S\\{0}×S→S;(α,β)↦t_α(β)の定義
- α=(γ,0)　(γ∈D∪{0})と表せるならば、
  - t_α(β)=β
- α=γ+δ　(γ∈S,δ∈P)と表せるならば、
  - t_α(β)=γ+t_δ(β)
- α=(γ,0)　(γ∈S\D,γ≠0)と表せるならば、
  - t_α(β)=(t_γ(β),0)
- α=(γ,δ)　(γ,δ∈S,δ≠0)と表せるならば、
  - t_α(β)=(γ,t_δ(β))

### Sの大小関係α＜βの定義
- α=0の時、α＜βはβ≠0と同値
- α≠0かつβ=0の時、α＜βは成り立たない
- α≠0かつβ≠0の時、
  - α∈Pかつβ∈Pの時、
    - α=(γ,δ)かつβ=(ε,ζ)の時、γ,δ,ε,ζ∈S
      - α＜βはγ＜εまたは(γ=εかつδ＜ζ)と同値
- α∈Pかつβ∈S\Pの時、
  - β=γ+δの時、γ∈P δ∈S\\{0}
    - α＜βはα＜γまたはα=γと同値
- α∈S\Pかつβ∈Pの時、
  - α=γ+δの時、γ∈P δ∈S\\{0}
    - α＜βはγ＜βと同値
- α∈S\Pかつβ∈S\Pの時、
  - α=γ+δかつβ=ε+ζの時、γ,ε∈P δ,ζ∈S\\{0}
    - α＜βはγ＜εまたは(γ=εかつδ＜ζ)と同値

### 写像t:S\\{0}→S;(α)↦depth(α)の定義
// 外側から内側に向かって(D,0)に至るまでの段階数

// 自らが(D,0)であるときは0と数える

- α=(γ,0)　(γ∈D∪{0})と表せるならば、
  - depth(α)=0
- α=γ+δ　(γ∈S,δ∈P)と表せるならば、
  - depth(α)=depth(δ)+1
- α=(γ,0)　(γ∈S\D,γ≠0)と表せるならば、
  - depth(α)=depth(γ)+1
- α=(γ,δ)　(γ,δ∈S,δ≠0)と表せるならば、
  - depth(α)=depth(δ)+1

### 写像dig:S\\{0}×\mathbb{Z}\_{+0}→S;(α,n)↦dig(α,n)の定義
// 外側から(D,0)になるまで最大k段階掘る

- n=0ならば、
  - dig(α,0)=α
- n=k+1 (k∈\mathbb{Z}\_{+0})と表せるならば、 
  - α=(γ,0)　(γ∈D∪{0})と表せるならば、
    - dig(α,k+1)=α
  - α=γ+δ　(γ∈S,δ∈P)と表せるならば、
    - dig(α,k+1)=dig(δ,k)
  - α=(γ,0)　(γ∈S\D,γ≠0)と表せるならば、
    - dig(α,k+1)=dig(γ,k)
  - α=(γ,δ)　(γ,δ∈S,δ≠0)と表せるならば、
    - dig(α,k+1)=dig(δ,k+1)

### 写像gid:S\\{0}×\mathbb{Z}\_{+0}→S;(α,n)↦gid(α,n)の定義
// (D,0)を0段目とし、内側から外側に向かって掘る

// 「天に向かって穴をあけながら進む」という単語を私は知らないので、digの綴りを反対にしてgidと命名する

- depth(α)>=nならば、
  - gid(α,n)=dig(α,depth(α)-n)
- depth(α)\<nならば、
  - gid(α,n)=α

### 写像BR:S\\{0}×\mathbb{Z}\_{+0}→\mathbb{Z}\_{+0-};α→BR(α,n)の定義
// αのn段階横ネストによるbad rootを探す

// n=0は番兵

- n=0ならば、
  - BR(α,n)=depth(α)とする。
- n=1ならば、
  - BR(α,n)はgid(α,0)>gid(α,m)をみたす最小のm∈\mathbb{Z}\_{+0}である。ただし、そのようなmが存在しないときは-1とする。
- n=k+1 (k∈\mathbb{Z}\_{+0})ならば、
  - BR(α,k)=-1ならば、
    - BR(α,k+1)=-1
  - BR(α,k)≠-1ならば、
    - BR(α,n)はgid(α,BR(α,k))>gid(α,m)かつBR(α,k)>mをみたす最小のm∈\mathbb{Z}\_{+0}である。ただし、そのようなmが存在しないときは-1とする。

### 写像van:S\\{0}×\mathbb{Z}\_{+0}×\mathbb{Z}\_{+}×S→S;(α,d,n,k)↦van(α,d,n,k)の定義
// αの最も内側の(D,0)のDを1つ減らし、内側からd段階目までをn回重ね、最も内側にkを置く

- (δ,0)=gid(α,0) (δ∈D)とする。
- n=1ならば、
  - van(α,d,n,k)=t_α((d(δ),k))
- n=m+1 (m∈\mathbb{Z}\_{+0})ならば、
  - β=gid(α,d) (β∈S)とする。
  - γ=t_β((δ,0))とする。
  - van(α,d,n,k)=van(t_α((d(δ),γ')),d,m,k)

### 写像 f:S×\mathbb{Z}\_{+}→S;(α,n)↦f(α,n)の定義　\mathbb{Z}\_{+}は正整数全体の集合
- α=0または(γ,0)　(γ∈S)　と表せるならば、
  - f(α,n)=0
- α=β+(γ,0)　(β∈S\\{0}　γ∈S)　と表せるならば、
  - f(α,n)=β
- α=β+γ　(β∈S\\{0}　γ∈P\\{(δ,0)|δ∈S})　と表せるならば、
  - f(α,n)=β+f(γ,n)
- α=(β,γ)　(β∈S\\{0}　γ∈S)と表せるならば、
  - f(α,n)=(0,γ)
- α=(0,a)　(a∈S\\{0})　かつ
  - α=t_β((γ,δ))　(β∈TB_0　γ∈S　δ∈D)　と表せるならば、
  - f(α,n)=t_β((γ,d(δ))+(γ,d(δ))+...+(γ,d(δ)))　(γ,d(δ)) n個
- それ以外のとき
  - iを0<=i<=Nを動く束縛変数とする。BR(α,i)≠-1をみたす最大のiをbとする。
  - f(α,n)=van(α,BR(α,b),n,0)

## 名称
### 表記
これら可算無限個の表記の総称を**なゆ値段**とする。

- N=2に対応するなゆ値段を**だゆ値段**と呼ぶ。
- N=3に対応するなゆ値段を**とらゆ値段**と呼ぶ。
- N=4に対応するなゆ値段を**たゆ値段**と呼ぶ。
